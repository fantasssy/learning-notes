# BRIEF INTRO

![image-20221223193840393](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671795520.png)

题序号带A的是拼题网上advanced level那个习题集 B是第一个习题集

![image-20221226134747124](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221226_1672033667.png)

Clion配置WSL环境如上图

vscode快捷键

<img src="https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230125_1674646178.png" alt="image-20230125192938585" style="zoom: 150%;" />

# 第三章 入门模拟

## 3.1 简单模拟

PAT B1032 挖掘机技术哪家强——书上例题

```c++
//P86
#include <iostream>
#include <algorithm>

using namespace std;
int arr[100000] = {0};

int main() {
	int n;
	cin >> n;
	int school, score;
	for (int i = 0; i < n; i++) {//循环不要再写错了
		scanf("%d %d",&school,&score);
		arr[school] += score;
	}
    //获得数组中的最大元素和索引
	auto big = max_element(begin(arr), end(arr));
	cout << big - arr << " " << *big;
}

```

---

### 问题 A: 剩下的树——remove（有坑）+erase

![image-20221015215845366](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459768.png)

```c++
#include <iostream>
#include <algorithm>

using namespace std;
int arr[10000] = {0};

void up(int arr[], int left, int right) {
	for (int i = left; i <= right; i++) {
		arr[i] = 1;
	}
}

void down(int arr[], int left, int right) {
	for (int i = left; i <= right; i++) {
		arr[i] = 0;
	}
}

int main() {
	int l, m, left, right;
	while (cin >> l >> m) {
		if (l * m != 0) {
			for (int i = 0; i < m; i++) {
				cin >> left >> right;
				up(arr, left, right);
			}
			//用STL中的count类函数时不要把变量命名为count
			int sum = count_if(arr, arr + l + 1, [](int a) { if (a == 0)return true;return false; });
			cout << sum << endl;
			down(arr, 0, l);
		}
		else
			return 0;
	}
}

```

**!!!remove操作并没有减小容器大小，执行的是逻辑上的删除操作，被删除的元素被放到了容器末尾**

remove后经常加上erase操作

erase是成员函数，remove是标准库模板函数

```c++
std::string str1 = "Text with some   spaces";
 
auto noSpaceEnd = std::remove(str1.begin(), str1.end(), ' ');
 
// The spaces are removed from the string only logically.
// Note, we use view, the original string is still not shrunk:
std::cout << std::string_view(str1.begin(), noSpaceEnd) 
              << " size: " << str1.size() << '\n';
 
str1.erase(noSpaceEnd, str1.end());
```

### 问题 B: A+B

![image-20221015231251432](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459769.png)

```c++
#include <iostream>
#include <algorithm>

using namespace std;

long long stringtoll(string s) {
   auto e = remove(s.begin(), s.end(), ',');
   s.erase(e, s.end());
   //对remove的逻辑删除加深印象，通常和erase搭配使用
   return stoll(s);
}

int main() {
   string s1, s2;
   while (cin >> s1 >> s2) {
      cout << stringtoll(s1) + stringtoll(s2) << endl;
   }
}
```

### 问题 C: 特殊乘法——char转string

![image-20221017205045688](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459770.png)

**https://www.techiedelight.com/zh/convert-char-to-string-cpp/**

**上述链接介绍了将char转为string的几种方法，构造函数最简单**

```c++
#include <iostream>
#include <algorithm>

using namespace std;

int ssum(string s) {
   int sum = 0;
   for (auto x : s) {
      sum += stoi(string(1,x));
   }
   return sum;
}

int main() {
   string s1, s2;
   while (cin >> s1 >> s2) {
      cout << ssum(s1) * ssum(s2) << endl;
   }
}
```

### 问题 D: 比较奇偶数个数

![image-20221017210134481](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459771.png)

```c++
#include <iostream>
#include <algorithm>
#include <vector>

using namespace std;

//vector中偶数更多则返回true
bool moreeven(const vector<int> &v) {
   int sum = 0;
   for (auto x : v) {
      if (x % 2 == 0)
         sum++;
   }
   if (sum > v.size() / 2)
      return true;
   else
      return false;
}

int main() {
   int n, a;
   vector<int> numbers;
   while (cin >> n) {
      numbers.clear();
      //这里如果写成while(1){cin>>n;...}将会报“输出超限”的错误过不了OJ
      for (int i = 0; i < n; i++) {
         cin >> a;
         numbers.push_back(a);
      }
      if (moreeven(numbers))
         cout << "NO" << endl;
      else
         cout << "YES" << endl;
   }
}
```

看来codeup写不了死循环

### 问题 E: Shortest Distance (20)——空间换时间

![image-20221017214508874](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459772.png)

```c++
#include <iostream>
#include <algorithm>
#include <vector>
#include <numeric>

using namespace std;

int main() {
   int n, d;
   vector<int> dist;
   cin >> n;
   dist.push_back(n);
   for (int i = 0; i < n; i++) {
      cin >> d;
      dist.push_back(d);
   }
   int sum = accumulate(dist.begin() + 1, dist.end(), 0);
   int m, first, second;
   cin >> m;
   for (int i = 0; i < m; i++) {
      cin >> first >> second;
      int r = 0;
      if (first < second) {
         for (int j = first; j < second; j++)//每次都要求特定两点之间的距离会不会造成超时？
            r += dist[j];
         if (r < sum / 2)
            cout << r << endl;
         else
            cout << sum - r << endl;
      }
      else {
         for (int k = first - 1; k > second - 1; k--)//同上，有超时风险
            r += dist[k];
         if (r < sum / 2)
            cout << r << endl;
         else
            cout << sum - r << endl;
      }
   }
}
```

上面是超时的代码，可以改进的地方在哪里呢？——超时(Time Limit Exceeded)

![image-20221018112148704](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459773.png)

```c++
#include <algorithm>
#include <iostream>
#include <numeric>
#include <vector>

using namespace std;

int main() {
  int n, d;
  vector<int> dist;
  cin >> n;
  dist.push_back(0);
  int sum = 0;
  for (int i = 0; i < n; i++) {
    cin >> d;
    sum += d;
    dist.push_back(d + dist[i]);
  }


  int m, first, second;
  cin >> m;
  for (int i = 0; i < m; i++) {
    cin >> first >> second;
    int r = 0;
    if (first < second) {
      r = dist[second-1] - dist[first-1];
      cout << min(r, sum - r) << endl;
    } else {
      r = dist[first-1] - dist[second-1];
      cout << min(r, sum - r) << endl;
    }
  }
}

```

改完之后还是超时，现在只能理解为vector的效率比数组低了，应该没有优化空间了

### 问题 F: A+B和C (15)

![image-20221206165436263](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459774.png)

```c++
#include <algorithm>
#include <iostream>
#include <numeric>
#include <vector>

using namespace std;

int main() {
  int64_t a, b, c;
  int n;
  cin >> n;
  for (int i = 1; i <= n; i++) {
    cin >> a >> b >> c;
    if (a + b > c) cout << "Case #" + to_string(i) + ": true" << endl;
    else cout<< "Case #" + to_string(i) + ": false" << endl;
  }
}

```

### 问题 G: 数字分类 (20)

![image-20221206165526209](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459775.png)

```c++
#include <algorithm>
#include <iostream>
#include <numeric>
#include <vector>
#include <cmath>
#include <iomanip>
using namespace std;
vector<int> v1, v2, v3, v4, v5;
//v1被5整除的偶数
//v2：5除余1
//v3：余2
//v4：余3
//v5：余4
int main() {
  int n, d;
  cin >> n;
  for (int i = 0; i < n; ++i) {
    cin >> d;
    if ((d % 2 == 0) && (d % 5 == 0)) v1.push_back(d);
    else if (d % 5 == 1) v2.push_back(d);
    else if (d % 5 == 2) v3.push_back(d);
    else if (d % 5 == 3) v4.push_back(d);
    else if(d % 5 == 4) v5.push_back(d);
  }
  if (v1.empty()) cout << "N";
  else cout << accumulate(v1.begin(), v1.end(), 0);
  cout << " ";

  int sum = 0;
  if (v2.empty()) cout << "N";
  else {
    for (int i = 0; i < v2.size(); ++i) {
      if (i % 2 == 0)
        sum += v2[i];
      else sum -= v2[i];
    }
    cout << sum;
  }
  cout << " ";

  if (v3.empty()) cout << "N";
  else cout << v3.size();
  cout << " ";

  if (v4.empty()) cout << "N";
  else cout << fixed << setprecision(1) << accumulate(v4.begin(), v4.end(), 0) * 1.0 / v4.size();
  cout << " ";

  if (v5.empty()) cout << "N";
  else cout << *max_element(v5.begin(), v5.end());

}


```

### 问题 I: 锤子剪刀布 (20)

![image-20221219222235143](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221219_1671459755.png)

```c++
#include <algorithm>
#include <iostream>
#include <numeric>
#include <vector>
#include <cmath>
#include <iomanip>
#include <map>
using namespace std;
//第一个人赢第二个人返回1
//平手返回0
//否则返回-1
const char chuizi = 'C', jiandao = 'J', bu = 'B';
int win(char a, char b) {
  if (a == b) return 0;
  else if ((a == chuizi && b == jiandao) || (a == jiandao && b == bu) || (a == bu && b == chuizi)) return 1;
  else return -1;

}

class Game {
 public:
  int win_times = 0;
  int lose_times = 0;
  int tie = 0;
  map<char, int> win_record{{'B', 0}, {'C', 0}, {'J', 0}};
};
//对容器进行自定义排序可以自己写二元谓词
bool cmp(const pair<char, int> &a, const pair<char, int> &b) {
  if (a.second > b.second) return true;
  else if (a.second == b.second) {
    if (a.first < b.first) return true;
    else return false;
  }
  else return false;
}
//对map按value排序先复制到vector<pair<...>>中再应用自定义二元谓词排序 map没法用sort
char win_most(const map<char, int> &m) {
  vector<pair<char, int>> v;
  for (auto x : m)
    v.push_back(x);
  sort(v.begin(), v.end(), cmp);
  return v[0].first;
}
int main() {
  int n;
  cin >> n;
  char a, b;
  Game jia, yi;
  for (int i = 0; i < n; i++) {
    cin >> a >> b;
    switch (win(a, b)) {
      case 1: {
        jia.win_times++;
        yi.lose_times++;
        jia.win_record[a]++;
        break;
      }
      case 0: {
        jia.tie++;
        yi.tie++;
        break;
      }
      case -1: {
        yi.win_times++;
        jia.lose_times++;
        yi.win_record[b]++;
        break;
      }
    }
  }
  cout << jia.win_times << " " << jia.tie << " " << jia.lose_times << endl
       << yi.win_times << " " << yi.tie << " " << yi.lose_times << endl;
  cout << win_most(jia.win_record) << " " << win_most(yi.win_record) << endl;
}


```

### B1026 程序运行时间——setw setfill

![image-20221223194224906](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671795745.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <iterator>
#include <map>
#include <string>
#include <cmath>
#include <iomanip>
using namespace std;
class Student {
 public:
  int age;
  string name, sex;
  Student(int age, const string &name, const string &sex) : age(age), name(name), sex(sex) {}
};
int main() {
  //cout << setfill('a') << left << setw(10) << -1.23 << setw(8) << 6 << endl;
  //-1.23aaaaa6aaaaaaa
  //setw类似endl只影响下一个输出，不影响整个流的状态
  //setfill left right internal等等操纵符会影响后续的所有输出！
  int a, b;
  cin >> a >> b;
  int hour, minute, second;
  int seconds = round((b - a) / 100.0);
  hour = seconds / 3600;
  minute = (seconds - hour * 3600) / 60;
  second = seconds % 60;

  cout << setfill('0') << setw(2) << hour << ":" << setw(2) << minute << ":" << setw(2) << second << endl;
}
```

操纵符用来改变数值输出形式和补白格式

注意**setw**和**endl**是特殊情况，**只影响后面紧跟的输出格式**，不影响整个流！

### B1046 划拳

![image-20221223202128142](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671798088.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <iterator>
#include <map>
#include <string>
#include <cmath>
#include <iomanip>
using namespace std;

int main() {
  int n;
  cin >> n;
  int adrink = 0, bdrink = 0;
  int acall, bcall, ado, bdo;
  for (int i = 0; i < n; i++) {
    cin >> acall >> ado >> bcall >> bdo;
    bool awin = (ado == acall + bcall);
    bool bwin = (bdo == acall + bcall);
    if (awin && !bwin) {
      bdrink++;
      continue;
    } else if (bwin && !awin) {
      adrink++;
      continue;
    } else continue;
  }
  cout << adrink << " " << bdrink << endl;
}
```

### B1008 数组元素循环右移问题——翻转rotate

![image-20221225112811472](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221225_1671938891.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <iterator>
#include <map>
#include <string>
#include <cmath>
#include <iomanip>
using namespace std;
void printintv(const vector<int> &v) {
  for (auto i = v.begin();; i++) {
    if (i == v.end() - 1) {
      cout << *i;
      break;
    } else cout << *i << " ";
  }
}
int main() {
  int n, m;
  cin >> n >> m;
  vector<int> v(n);
  for (int i = 0; i < n; i++)
    cin >> v[i];
  rotate(v.begin(), v.begin() + n - m % n, v.end());
  printintv(v);
}
```

### A1042 Shuffling Machine

![image-20221225121814677](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221225_1671941894.png)

```c++
#include <iostream>
#include <vector>
#include <algorithm>
#include <map>
#include <string>
#include <cmath>
#include <iomanip>
using namespace std;
//输出容器最后不带空格的模板函数
template<typename T>
void printintv(const T &v) {
  for (auto i = v.begin();; i++) {
    if (i == v.end() - 1) {
      cout << *i << endl;
      break;
    } else cout << *i << " ";
  }
}
int main() {
  int n;
  cin >> n;
  vector<int> order(55);
  for (int i = 1; i <= 54; i++)
    cin >> order[i];
  vector<string> cards(14);
  for (int i = 1; i <= 13; i++) {
    cards[i] = "S" + to_string(i);
  }
  for (int i = 1; i <= 13; i++) {
    cards.push_back("H" + to_string(i));
  }
  for (int i = 1; i <= 13; i++) {
    cards.push_back("C" + to_string(i));
  }
  for (int i = 1; i <= 13; i++) {
    cards.push_back("D" + to_string(i));
  }
  cards.push_back("J1");
  cards.push_back("J2");
  vector<string> newcards(55);
  for (int i = 0; i < n; i++) {
    for (int j = 1; j <= 54; j++)
      newcards[order[j]] = cards[j];
    cards = newcards;
  }
  cards.erase(cards.begin());
  printintv(cards);
}
```

### B1010 一元多项式求导

![image-20221225150332975](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221225_1671951813.png)

```c++
#include <iostream>
using namespace std;
int main() {
    int a, b, flag = 0;
    while (cin >> a >> b) {
        if (b != 0) {
            if (flag == 1) cout << " ";
            cout << a * b << " " << b - 1;
            flag = 1;
        }
    }
    if (flag == 0) cout << "0 0";
    return 0;
}
/*
1.flag用来判断是否已经有过输出～
2.当b!=0时，因为给出的是所有非零项系数，所以必定会有输出，先判断flag是否为1，如果为1表示已经有过输出，那么在前面要先输出一个空格
3.输出 a * b 和 b – 1，然后将flag标记为1表示已经有过输出
4.最后判断当没有输出并且b==0的时候，输出“0 0”
*/
```

这个我没有输出好格式，这是抄的题解：https://www.liuchuo.net/archives/526

### A1002 A+B for Polynomials——小数点后保留精度

![image-20221226144309899](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221226_1672036990.png)

```c++
 //加入setprecision(n)  设置浮点数有效数字 
cout<<setprecision(3)<<a<<endl;        //将精度改为3（即有效数字三位） 输出3.14                        
cout<<setprecision(10)<<a<<endl;    //将精度改为10  输出3.141592654 
    
cout << fixed << setprecision(1) << //小数点后保留一位的输出方法

#include <iostream>
#include <map>
#include <algorithm>
#include <iomanip>
using namespace std;
int main() {
  int num1, num2;
  map<int, double, greater<>> p1, p2;//指数从大到小排列多项式
  cin >> num1;
  for (int i = 0; i < num1; i++) {
    int ex;
    double xi;
    cin >> ex >> xi;
    p1[ex] = xi;
  }
  cin >> num2;
  for (int i = 0; i < num2; i++) {
    int ex;
    double xi;
    cin >> ex >> xi;
    p2[ex] = xi;
  }

  map<int, double, greater<>> result;
  for (auto &it1 : p1) {
    auto it2 = p2.find(it1.first);
    if (it2 != p2.end()) {
      result.insert({it1.first, it1.second + it2->second});
    }
  }
  for (auto &x : p1) {//没有处理的项直接加入结果map
    if (result.find(x.first) == result.end())
      result.insert(x);
  }
  for (auto &x : p2) {
    if (result.find(x.first) == result.end())
      result.insert(x);
  }
  cout << count_if(result.begin(), result.end(), [](pair<const int, double> &x) {
    return x.second != 0;
  });
  for (auto &x : result)
    if (x.second != 0)
      cout << " " << x.first << " " << fixed << setprecision(1) << x.second;
}    
```

### A1009 Product of Polynomials

![image-20221226145715375](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221226_1672037835.png)

```c++
#include <iostream>
#include <map>
#include <algorithm>
#include <iomanip>
using namespace std;
int main() {
  int num1, num2;
  map<int, double, greater<>> p1, p2;//指数从大到小排列多项式
  cin >> num1;
  for (int i = 0; i < num1; i++) {
    int ex;
    double xi;
    cin >> ex >> xi;
    p1[ex] = xi;
  }
  cin >> num2;
  for (int i = 0; i < num2; i++) {
    int ex;
    double xi;
    cin >> ex >> xi;
    p2[ex] = xi;
  }

  map<int, double, greater<>> result;
  //多项式乘法
  for (auto &x : p1) {
    for (auto &y : p2) {
      result[x.first + y.first] += x.second * y.second;
    }
  }
  cout << count_if(result.begin(), result.end(), [](pair<const int, double> &x) {
    return x.second != 0;
  });
  for (auto &x : result)
    if (x.second != 0)
      cout << " " << x.first << " " << fixed << setprecision(1) << x.second;
}
```



## 3.2 查找元素

### 问题 A: 统计同成绩学生人数

![image-20221223114250972](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671766971.png)

![image-20221223114303834](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671766984.png)

```c++
#include <iostream>
#include <vector>
#include <algorithm>
#include <iterator>
#include <map>
using namespace std;
int main() {
  int n, key;
  map<int, int> score;
  while (cin >> n) {
    if(n==0) break;
    score.clear();
    for (int i = 0; i < n; ++i) {
      cin >> key;
      score[key]++;
    }
    int goal;
    cin >> goal;
    auto it = score.find(goal);
    if (it != score.end())  cout << it->second << endl; 
    else cout << 0 << endl;

  }
}
```



### 问题 B: 找x

![image-20221223114007834](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671766808.png)

```c++
#include <iostream>
#include <vector>
#include <algorithm>
#include <iterator>
using namespace std;
int main() {
  int n;
  while (cin >> n) {
    vector<int> v;
    int x;
    for (int i = 0; i < n; i++) {
      cin >> x;
      v.push_back(x);
    }
    int num;
    cin >> num;
    auto pos = std::find(v.begin(), v.end(), num);
    if (pos != v.end())
      cout << pos - v.begin() << endl;
    else cout << -1 << endl;
  }
}
```

此题尝试多次没有通过，后来注意到题目中说测试数据有多组，才反应过来要加上输入循环，否则只有一组数据的结果。。。

### 问题 C: 查找学生信息

![image-20221223120717408](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671768437.png)

![image-20221223120730824](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671768451.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <iterator>
#include <map>
#include <string>
using namespace std;
class student {
 public:
  string name;
  string sex;
  string age;

  student(string n, string s, string a)
      : name(std::move(n)), sex(std::move(s)), age(std::move(a)) {}
};
int main() {
  int n;
  while (cin >> n) {
    map<string, student> record;
    string no, name, sex, age;
    for (int i = 0; i < n; i++) {
      cin >> no >> sex >> name >> age;
      record.insert({no, student(sex, name, age)});
    }
    int m;
    string goal;
    cin >> m;
    for (int i = 0; i < m; i++) {
      cin >> goal;
      auto p = record.find(goal);
      if (p != record.end())
        cout << p->first << " " << p->second.name << " " << p->second.sex << " " << p->second.age << endl;
      else cout << "No Answer!" << endl;
    }
  }
}
```

暂时不知道哪里有问题；

查找网上对应题解，大多和我是一个思路，不懂

### 问题 D: 查找

![image-20221223190239716](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671793359.png)

![image-20221223190250719](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671793370.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <iterator>
#include <map>
#include <string>
using namespace std;

int main() {
  vector<int> v;
  int n;
  while (cin >> n) {
    v.clear();
    int num;
    for (int i = 0; i < n; ++i) {
      cin >> num;
      v.push_back(num);
    }
    int m;
    cin >> m;

    for (int i = 0; i < m; ++i) {
      int goal;
      cin >> goal;
      auto it = find(v.begin(), v.end(), goal);
      if (it != v.end()) cout << "YES" << endl;
      else cout << "NO" << endl;
    }
  }
}
```

### 问题 E: 学生查询

![image-20221223190354716](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671793434.png)

![image-20221223190405212](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221223_1671793445.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <iterator>
#include <map>
#include <string>
using namespace std;
class Student {
 public:
  int age;
  string name, sex;
  Student(int age, const string &name, const string &sex) : age(age), name(name), sex(sex) {}
};
int main() {
  int e_num;
  cin >> e_num;
  for (int i = 0; i < e_num; i++) {
    int s_num;
    cin >> s_num;
    map<int, Student> record;
    for (int j = 0; j < s_num; j++) {
      int no, age;
      string name, sex;
      cin >> no >> name >> sex >> age;
      record.insert({no, Student(age, name, sex)});
    }
    int goal;
    cin >> goal;
    auto p = record.find(goal);
    if (p != record.end())
      cout << goal << " " << p->second.name << " " << p->second.sex << " " << p->second.age << endl;
  }

}
```

其实这个题和C题非常像

### B1041 考试座位号

![image-20221226150741826](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221226_1672038462.png)

```c++
#include <iostream>
#include <map>
#include <algorithm>
#include <iomanip>
#include <utility>
#include <vector>
using namespace std;
class Student {
 public:
  string no;
  int shiji;
  int kaoshi;

  Student(string no, int shiji, int kaoshi) : no(std::move(no)), shiji(shiji), kaoshi(kaoshi) {}
};
int main() {
  int num;
  cin >> num;
  vector<Student> students;
  string no;
  int shiji, kaoshi;
  for (int i = 0; i < num; i++) {
    cin >> no >> shiji >> kaoshi;
    students.emplace_back(no, shiji, kaoshi);//push_back会多一步move操作
  }
  int times, goal;
  cin >> times;
  for (int i = 0; i < times; ++i) {
    cin >> goal;
    for (auto &student : students) {
      if (student.shiji == goal)
        cout << student.no << " " << student.kaoshi << endl;
    }
  }
}
```

### B1004 成绩排名——反向迭代器rbegin()

![image-20221226151723141](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221226_1672039043.png)

```c++
#include <iostream>
#include <map>
#include <algorithm>
#include <iomanip>
#include <utility>
using namespace std;
class Student {
 public:
  string name;
  string no;

  Student(string name, string no) : name(std::move(name)), no(std::move(no)) {}
};
int main() {
  int num;
  cin >> num;
  map<int, Student, greater<>> students;
  string name, no;
  int score;
  for (int i = 0; i < num; i++) {
    cin >> name >> no >> score;
    students.insert({score, Student(name, no)});
  }
  auto small = students.begin();
  auto big = students.rbegin();//忘了还有个反向迭代器!!!
  //auto p=students.end(); p--;也可以访问map最后一个元素
  cout << small->second.name << " " << small->second.no << endl;
  cout << big->second.name << " " << big->second.no << endl;
}
```

### B1028 人口普查

![image-20221226175014562](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221226_1672048214.png)

```c++
#include <iostream>
#include <map>
#include <algorithm>
#include <iomanip>
#include <bits/stdc++.h>
//#include <utility>
using namespace std;
void datetoint(const string &date, int &year, int &month, int &day) {
  year = stoi(date.substr(0, 4));
  month = stoi(date.substr(5, 2));
  day = stoi(date.substr(8, 2));
}
class Man {
 public:
  string name;
  string birthdate;
  int year, month, day;
  Man(string name, const string &birthdate)
      : name(std::move(name)), birthdate(birthdate) {
    datetoint(birthdate, year, month, day);
  }
};
bool cmp(const Man &a, const Man &b) {
  if (a.year < b.year) return true;
  else if (a.year > b.year) return false;
  else {
    if (a.month < b.month) return true;
    else if (a.month > b.month) return false;
    else {
      if (a.day < b.day) return true;
      else return false;
    }
  }
}
bool invalid(const Man &a) {
  //2014 年 9 月 6 日
  if (a.year < 1814 || a.year > 2014) return true;

  if (a.year == 1814 && a.month < 9) return true;
  if (a.year == 1814 && a.month == 9 && a.day < 6) return true;

  if (a.year == 2014 && a.month > 9) return true;
  if (a.year == 2014 && a.month == 9 && a.day > 6) return true;
  return false;
}
int main() {
  int num;
  cin >> num;
  vector<Man> people;
  string name, date;
  for (int i = 0; i < num; ++i) {
    cin >> name >> date;
    people.emplace_back(name, date);
  }
  auto p = remove_if(people.begin(), people.end(),
                     [](const Man &a) { return invalid(a); });
  people.erase(p, people.end());
  sort(people.begin(), people.end(), cmp);
  if (people.empty()) cout << 0 << endl;//注意边界条件，即所有人都不满足条件的时候 空vector的begin、end是没有意义的
  else cout << people.size() << " " << people.begin()->name << " " << people.rbegin()->name << endl;
}
```

这个题没有说清楚没人符合条件时应该输出0，导致不加判断的时候会访问空容器的迭代器，报错“段错误”

### B1032 挖掘机技术哪家强——最大最小的比较函数对象写法

![image-20221226182121623](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221226_1672050081.png)

```c++

#include <iostream>
#include <map>
#include <algorithm>
using namespace std;
/// max_element函数的实现
/// 遍历容器将当前元素-1和first-2比较，comp返回true时才会更新结果（最大值）
///
//  _ForwardIterator
//    __max_element(_ForwardIterator __first, _ForwardIterator __last,
//		  _Compare __comp)
//    {
//      if (__first == __last) return __first;
//      _ForwardIterator __result = __first;
//      while (++__first != __last)
//	if (__comp(__result, __first))
//	  __result = __first;
//      return __result;
//    }
///
bool cmp(const pair<int, int> &a, const pair<int, int> &b) {
  return a.second < b.second;//小于号比较得出最大值
  //a=result是最值结果 b=first是遍历变量
  //a<b结果会更新为b
  //a.second < b.second也可以不理解调用方法，这样写就表示a在左边，b在右边，自然是升序
}
int main() {
  int n;
  cin >> n;
  map<int, int> score{};
  int no, s;
  for (int i = 0; i < n; ++i) {
    cin >> no >> s;
    score[no] += s;
  }
  auto p = max_element(score.begin(), score.end(), cmp);
  cout << p->first << " " << p->second << endl;
}
```

### A1011 World Cup Betting

![image-20221227125248908](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221227_1672116769.png)

![image-20221227125259456](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221227_1672116779.png)

```c++
#include <iostream>
#include <map>
#include <algorithm>
#include <iomanip>
using namespace std;
bool cmp(const pair<char, double> &a, const pair<char, double> &b) {
  if (a.second < b.second) return true;
  return false;
}
int main() {
  map<char, double> map{{'W', 0.0}, {'T', 0.0}, {'L', 0.0}};
  double odd = 1.0;

  for (int i = 0; i < 3; i++) {
    cin >> map['W'] >> map['T'] >> map['L'];
    auto p = max_element(map.begin(), map.end(), cmp);
    cout << p->first << " ";
    odd *= p->second;
  }
  cout << fixed << setprecision(2) << (odd * 0.65 - 1) * 2 << endl;
}
```

### A1006 Sign In and Sign Out

![image-20221227174504656](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221227_1672134304.png)

```c++
#include <iostream>
#include <map>
#include <algorithm>
#include <iomanip>
using namespace std;
struct record {
  string id;
  int hour, minute, second;
  int hour1, minute1, second1;
};
bool sooner(const record &a, const record &b) {
  if (a.hour != b.hour) return a.hour < b.hour;
  if (a.minute != b.minute) return a.minute < b.minute;
  return a.second < b.second;
}
bool later(const record &a, const record &b) {
  if (a.hour1 != b.hour1) return a.hour1 > b.hour1;
  if (a.minute1 != b.minute1) return a.minute1 > b.minute1;
  return a.second1 > b.second1;
}
int main() {
  int n;
  cin >> n;
  string a;
  int h1, h2, m1, m2, s1, s2;
  record first{"", 24, 60, 60, 0, 0, 0},
      last{"", 0, 0, 0, 0, 0, 0};
  for (int i = 0; i < n; ++i) {
    cin >> a;
    scanf("%d:%d:%d %d:%d:%d", &h1, &m1, &s1, &h2, &m2, &s2);
    record r{a, h1, m1, s1, h2, m2, s2};
    if (sooner(r, first)) first = r;
    if (later(r, last)) last = r;
  }
  cout << first.id << " " << last.id;
}
```

### A1036 Boys vs Girls

![image-20221229112132447](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221229_1672284092.png)

![image-20221229112144494](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221229_1672284104.png)

```c++
//男学生最低成绩和女学生最高成绩
//name, gender, ID and grade
//没有人则输出Absent 结果输出NA
#include <iostream>
#include <string>
#include <map>
using namespace std;
class Student {
 public:
  string name;
  string no;
  Student(const string &n, const string &o) : name(n), no(o) {}
};
int main() {
  map<int, Student> male, female;
  int n;
  cin >> n;
  string name, no;
  char sex;
  int score;
  for (int i = 0; i < n; i++) {
    cin >> name >> sex >> no >> score;
    if (sex == 'M') male.insert({score, Student(name, no)});
    else female.insert({score, Student(name, no)});
  }
  bool flag = false;
  auto p1 = female.rbegin();
  auto p2 = male.begin();
  if (female.empty()) {
    cout << "Absent" << endl;
    flag = true;
  } else cout << p1->second.name << " " << p1->second.no << endl;
  if (male.empty()) {
    cout << "Absent" << endl;
    flag = true;
  } else cout << p2->second.name << " " << p2->second.no << endl;
  if (flag) cout << "NA" << endl;
  else if (p1->first > p2->first) cout << p1->first - p2->first << endl;
  else cout << p2->first - p1->first << endl;
}
```

## 3.3 图形输出

### B1036 跟奥巴马一起编程

![image-20221229115332998](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221229_1672286013.png)

```c++
#include <iostream>
#include <cmath>

using namespace std;
ostream &printchar(char c, int n) {
  for (int i = 0; i < n; ++i)
    cout << c;
  return cout;
}
int main() {
  int col;
  char c;
  cin >> col >> c;
  printchar(c, col) << endl;
  int row = round(col * 0.5) - 2;
  for (int i = 0; i < row; ++i) {
    cout << c;
    printchar(' ', col - 2);
    cout << c << endl;
  }
  printchar(c, col) << endl;
}
```

### B1027 打印沙漏

![image-20221229115620742](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221229_1672286180.png)

```c++
#include <iostream>
#include <cmath>

using namespace std;
ostream &printchar(char c, int n) {
  for (int i = 0; i < n; ++i)
    cout << c;
  return cout;
}
int main() {
  int n;
  char c;
  cin >> n >> c;
  int r = static_cast<int>(sqrt(2 * (1 + n))) - 1;
  int x;
  if (r % 2 == 0) x = r - 1; else x = r;
  int left = n - (1 + x) * (1 + x) / 2 + 1;
  int i;
  for (i = 0; i < (x + 1) / 2; i++) {
    printchar(' ', i);
    printchar(c, x - 2 * i)<< endl;
  }
  for (int j = i - 2; j >= 0; j--) {
    printchar(' ', j);
    printchar(c, x - 2 * j)<< endl;
  }
  cout << left << endl;
}
```

### A1031 Hello World for U

![image-20221230122956910](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221230_1672374597.png)

```c++
#include <iostream>
#include <cmath>

using namespace std;
ostream &printchar(char c, int n) {
  for (int i = 0; i < n; ++i)
    cout << c;
  return cout;
}
int main() {
  string str;
  cin >> str;
  auto n = floor((str.size() + 2) / 3);
  auto x = str.size() - 2 * n;
  auto a = str.begin(), b = str.end() - 1;
  for (int i = 0; i < n; ++i) {
    if (i != n - 1) {
      cout << *(a + i);
      printchar(' ', x);
      cout << *(b - i) << endl;
    } else cout << str.substr(i, x + 2) << endl;
  }

}
```

## 3.5 进制转换

3.4 是日期处理 比较枯燥 涉及闰年和年月日的比较 主要是边界条件的处理

### B1022 D进制的A+B —— 任意进制转换（字符串）

![image-20221230144323580](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221230_1672382603.png)

```c++
#include <iostream>
#include <cmath>
#include <cstdlib>
using namespace std;
#include <algorithm>

//  重要！！！！！！！！！！！
/// 十进制数字转任意进制字符串
/// \param n 要转换的数字
/// \param base 目标数字进制
/// \return 目标数字的字符串
string itos(int n, int base) {
  string ans;
  do {
    int t = n % base;
    if (t >= 0 && t <= 9) ans += (t + '0');
    else ans += (t - 10 + 'a');
    n /= base;
  } while (n != 0);
  reverse(ans.begin(), ans.end());
  return ans;
}

ostream &printchar(char c, int n) {
  for (int i = 0; i < n; ++i)
    cout << c;
  return cout;
}

/// 字符串转任意进制整数
/// \param str 要识别的字符串
/// \param pos 出错时最后处理到的索引位置
/// \param base 整数进制
/// \return 字符串按base理解后的整数
/// int stoi(const std::string &str, std::size_t *pos = nullptr, int base = 10);

int main() {
  int a, b, c;
  cin >> a >> b >> c;
  cout << itos(a + b, c) << endl;

}
```

### B1037 在霍格沃茨找零钱 —— 字符串分割、拼接

![image-20221230144655078](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221230_1672382815.png)

```c++
#include <iostream>
#include <cmath>
#include <cstdlib>
#include <algorithm>
#include <sstream>
using namespace std;


vector<string> split(const string &str, const char split) {
  istringstream iss(str);    // 输入流
  string token;            // 接收缓冲区
  vector<string> v;
  while (getline(iss, token, split))    // 以split为分隔符
    v.push_back(token);
  return v;
}

int sTOknut(const string &price) {
  auto r = split(price, '.');
  auto g = stoi(r[0]), s = stoi(r[1]), k = stoi(r[2]);
  return g * 17 * 29 + s * 29 + k;
}

string knutTOs(int total) {
  auto g = total / (17 * 29),
      s = (total - (17 * 29) * g) / 29,
      k = (total - (17 * 29) * g) % 29;
  //字符串和数字拼接
  stringstream ss;
  ss << g << '.' << s << '.' << k;
  return ss.str();
}

int main() {
  string p, a;
  cin >> p >> a;
  auto change = sTOknut(a) - sTOknut(p);
  if (change >= 0) cout << knutTOs(change);
  else cout << '-' << knutTOs(-change);
}
```

### A1019 General Palindromic Number

![image-20221230171445990](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221230_1672391686.png)

![image-20221230171459170](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2022/12/upgit_20221230_1672391699.png)

```C++
#include <iostream>
#include <cmath>
#include <cstdlib>
#include <algorithm>
#include <sstream>
using namespace std;

ostream &printchar(char c, int n) {
  for (int i = 0; i < n; ++i)
    cout << c;
  return cout;
}

template<typename T>
/// 输出顺序容器每个元素的值 结尾没有空格的版本
/// \tparam T 容器元素类型
/// \param container 容器名
void print(const T &container) {
  for (auto it = begin(container); it != end(container); ++it) {
    if (it + 1 == end(container))
      cout << *it << endl;
    else cout << *it << " ";
  }
}

/// 十进制数字转任意进制字符串
/// \param n 要转换的数字
/// \param base 目标数字进制
/// \return 目标数字的字符串
string itos(int n, int base) {
  string ans;
  do {
    int t = n % base;
    if (t >= 0 && t <= 9) ans += (t + '0');
    else ans += (t - 10 + 'a');
    n /= base;
  } while (n != 0);
  reverse(ans.begin(), ans.end());
  return ans;
}

/// 字符串转任意进制整数
/// \param str 要识别的字符串
/// \param pos 出错时最后处理到的索引位置
/// \param base 整数进制
/// \return 字符串按base理解后的整数!!!
/// int stoi(const std::string &str, std::size_t *pos = nullptr, int base = 10);

int main() {
  int num, base;
  cin >> num >> base;
  auto s = itos(num, base), s1 = s;
  reverse(s1.begin(), s1.end());
  if (s1 == s)
    cout << "Yes" << endl;
  else
    cout << "No" << endl;
  print(s);
}
```

没有处理N是小数的情况（网上题解提到）
也有可能进制转换函数不适合进制太大的情况
过了80%

```c++
#include <cstdio>
using namespace std;
int main() {
    int a, b;
    scanf("%d %d", &a, &b);
    int arr[40], index = 0;
    while(a != 0) {
        arr[index++] = a % b;
        a = a / b;
    }
    int flag = 0;
    for(int i = 0; i < index / 2; i++) {
        if(arr[i] != arr[index-i-1]) {
            printf("No\n");
            flag = 1;
            break;
        }
    }
    if(!flag) printf("Yes\n");
    for(int i = index - 1; i >= 0; i--) {
        printf("%d", arr[i]);
        if(i != 0) printf(" ");
    }
    if(index == 0)
        printf("0");
    return 0;
}
```

这是网上抄的题解https://www.liuchuo.net/archives/2055

### A1027 Colors in Mars

![image-20230102162507105](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672647907.png)

```c++
#include <bits/stdc++.h>
using namespace std;

ostream &printchar(char c, int n) {
  for (int i = 0; i < n; ++i)
    cout << c;
  return cout;
}

template<typename T>
/// 输出顺序容器每个元素的值 结尾没有空格的版本
/// \tparam T 容器元素类型
/// \param container 容器名
void print(const T &container) {
  for (auto it = begin(container); it != end(container); ++it) {
    if (it + 1 == end(container))
      cout << *it << endl;
    else cout << *it << " ";
  }
}

/// 十进制数字转任意进制字符串
/// \param n 要转换的数字
/// \param base 目标数字进制，默认十进制
/// \return 目标数字的字符串
string itos(int n, int base = 10) {
  string ans;
  do {
    int t = n % base;
    if (t >= 0 && t <= 9) ans += (t + '0');
    else ans += (t - 10 + 'a');//进制转换之后字母都是小写 
    n /= base;
  } while (n != 0);
  reverse(ans.begin(), ans.end());
  return ans;
}

/// 字符串转任意进制整数
/// \param str 要识别的字符串
/// \param pos 出错时最后处理到的索引位置
/// \param base 整数进制
/// \return 字符串按base理解后的整数!!!
/// int stoi(const std::string &str, std::size_t *pos = nullptr, int base = 10);

/// 将字符串转大写
/// \param str 
/// \return 
string toupper(const std::string &str) {
  string s;
  for (auto x : str)
    s += toupper(x);
  return s;
}

int main() {
  vector<int> v;
  int a;
  for (int i = 0; i < 3; ++i) {
    cin >> a;
    v.push_back(a);
  }
  cout << '#';
  for (auto &x : v) {
    if (x < 13) cout << '0' << toupper(itos(x, 13));
    else cout << toupper(itos(x, 13));
  }
}
```

### A1058 A+B in Hogwarts

![image-20230102164858184](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672649338.png)

```c++
#include <bits/stdc++.h>

using namespace std;

class money {
public:
	int galleon;
	int sickle; //17进1
	int knut; //29进1
	money() { galleon = sickle = knut = 0; }
	
	money(int galleon, int sickle, int knut)
			: galleon(galleon), sickle(sickle), knut(knut) {}
	
	money operator+(const money &other) const {
		auto k = (knut + other.knut) % 29, news = (knut + other.knut) / 29;
		auto s = (sickle + other.sickle + news) % 17, newg = (sickle + other.sickle + news) / 17;
		auto g = galleon + other.galleon + newg;
		return {g, s, k};
	}
	
	void print() const {
		cout << galleon << '.' << sickle << '.' << knut;
	}
};

int main() {
	money a, b;
	scanf("%d.%d.%d %d.%d.%d", &a.galleon, &a.sickle, &a.knut, &b.galleon, &b.sickle, &b.knut);
	(a + b).print();
}
```

## 3.6 字符串处理

### 问题 I: 【字符串】回文串

![image-20230102165733773](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672649854.png)

```c++
#include <bits/stdc++.h>

using namespace std;

int main() {
	string s, s1;
	cin >> s;
	s1 = s;
	reverse(s.begin(), s.end());
	if (s1 == s) cout << "YES" << endl;
	else cout << "NO" << endl;
}
```

### B1009 说反话——反向输出容器、用string流按分隔符读取一行字符串

![image-20230102170100537](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672650060.png)

```c++
#include <bits/stdc++.h>

using namespace std;

/// 反向输出容器内容的函数，结尾没有多余空格
/// \tparam T 容器类型
/// \param v 容器名字
template<typename T>
void reversePrint(const T &v) {
	for (auto it = rbegin(v); it != rend(v); it++) {
		cout << *it;
		if (it + 1 != rend(v)) cout << " ";
	}
}

/*
 * 	使用istringstream加getline的分隔符版本读取切割字符串
 *  use separator to read parts of the line
    std::istringstream input2;
    input2.str("a;b;c;d");
    for (std::string line; std::getline(input2, line, ';'); )
        std::cout << line << '\n';
 */
int main() {
	vector<string> words;
	string s;
	istringstream input;
	getline(cin, s);
	input.str(s);
	for (string a; getline(input, a, ' ');) words.push_back(a);
	reversePrint(words);
}
```

### B1006 换个格式输出整数

![image-20230102172603740](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672651563.png)

```c++
#include <bits/stdc++.h>

using namespace std;

///
/// \param c 重复输出的字符
/// \param n 字符输出的字数
/// \return std::cout
ostream &printchar(char c, int n) {
	for (int i = 0; i < n; ++i)
		cout << c;
	return std::cout;
}

int main() {
	string s;
	cin >> s;
	auto num = stoi(s);
	auto hun = num / 100, ten = num % 100 / 10, one = num - ten * 10 - hun * 100;
	printchar('B', hun);
	printchar('S', ten);
	for (int i = 1; i <= one; ++i) cout << i;
}
```

### B1021 个位数统计

![image-20230102174114676](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672652474.png)

```c++
#include <bits/stdc++.h>

using namespace std;

///
/// \param c 重复输出的字符
/// \param n 字符输出的字数
/// \return std::cout
ostream &printchar(char c, int n) {
	for (int i = 0; i < n; ++i)
		cout << c;
	return std::cout;
}

/*
void print_map(std::string_view comment, const std::map<std::string, int>& m)
{
	std::cout << comment;
	// iterate using C++17 facilities
	for (const auto& [key, value] : m)
		std::cout << '[' << key << "] = " << value << "; ";

// C++11 alternative:
//  for (const auto& n : m)
//      std::cout << n.first << " = " << n.second << "; ";
//
// C++98 alternative
//  for (std::map<std::string, int>::const_iterator it = m.begin(); it != m.end(); it++)
//      std::cout << it->first << " = " << it->second << "; ";
	
	std::cout << '\n';
}
*/

int main() {
	map<char, int> record;
	string s;
	getline(std::cin, s);
	for (auto &x: s)
		record[x]++;
	
	for (auto &[key, val]: record)
		cout << key << ':' << val << endl;
	
}
```

### B1031 查验身份证

![image-20230102175434591](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672653274.png)

![image-20230102175448024](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672653288.png)

![image-20230102175324745](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230102_1672653204.png)**char转为int最方便的方法**

```c++
#include <bits/stdc++.h>

using namespace std;

int main() {
	string no;
	int n;
	cin >> n;
	int weight[] = {7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2};
	map<int, char> check{{0,  '1'},
						 {1,  '0'},
						 {2,  'X'},
						 {3,  '9'},
						 {4,  '8'},
						 {5,  '7'},
						 {6,  '6'},
						 {7,  '5'},
						 {8,  '4'},
						 {9,  '3'},
						 {10, '2'}};
	bool pass = true;
	for (int i = 0; i < n; ++i) {
		int sum = 0;
		bool out = false;
		cin >> no;
		for (int j = 0; j < 17; j++) {
			auto c = no[j];
			if (!isdigit(c)) {
				pass = false;
				out = true;//如果已经被输出 则前17位有非法数字
				cout << no << endl;
				break;
			} else sum += (c - '0') * weight[j];
			
		}
		if (!out)//已经被输出的不作校验码判断
			if (no[17] != check[sum % 11]) {
				pass = false;
				cout << no << endl;
			}
	}
	if (pass) cout << "All passed" << endl;
}
```

### B1002 写出这个数

![image-20230103151426061](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230103_1672730066.png)

```c++
#include <bits/stdc++.h>

using namespace std;
map<char, string> check = {{'0', "ling"},
						   {'1', "yi"},
						   {'2', "er"},
						   {'3', "san"},
						   {'4', "si"},
						   {'5', "wu"},
						   {'6', "liu"},
						   {'7', "qi"},
						   {'8', "ba"},
						   {'9', "jiu"}};

/// 十进制数字转任意进制
/// \param n 要转换的数字
/// \param base 目标数字进制,默认十进制
/// \return 目标数字的字符串
string itos(int n, int base = 10) {
	string ans;
	do {
		int t = n % base;
		if (t >= 0 && t <= 9) ans += (t + '0');
		else ans += (t - 10 + 'a');//进制转换之后字母都是小写
		n /= base;
	} while (n != 0);
	reverse(ans.begin(), ans.end());
	return ans;
}

int main() {
	string no;
	getline(std::cin, no);
	int sum = 0;
	for (auto x: no)
		sum += x - '0';
	string r = itos(sum);
	for (auto i = 0; i < r.size(); i++) {
		if (i != r.size() - 1) cout << check[r[i]] << " ";
		else cout << check[r[i]];
	}
}
```

### B1014 福尔摩斯的约会

![image-20230103155513907](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230103_1672732514.png)

```c++
#include <bits/stdc++.h>

using namespace std;

map<char, string> day{{'A', "MON"},
					  {'B', "TUE"},
					  {'C', "WED"},
					  {'D', "THU"},
					  {'E', "FRI"},
					  {'F', "SAT"},
					  {'G', "SUN"}};


int main() {
	string s1, s2;
	cin >> s1 >> s2;
	auto n = min(s1.size(), s2.size());
	string date;
	int hour, index = 0;
	for (int i = 0; i < n; ++i) {
		auto a = s1[i], b = s2[i];
		if (a == b) {
			if (index == 0) {
				if ('A' <= a && a <= 'G') {
					date = day[a];
					index = 1;
					continue;
				}
			}
			if (index == 1) {
				if (('A' <= a && a <= 'N') || ('0' <= a && a <= '9')) {
					hour = stoi(string(1, a), nullptr, 24);
					break;
				}
			}
		}
	}
	cin >> s1 >> s2;
	n = min(s1.size(), s2.size());
	int min = 0;
	for (int i = 0; i < n; ++i) {
		auto a = s1[i], b = s2[i];
		if (isalpha(a) && isalpha(b))
			if (a == b)
				min = i;
	}
	cout << date << " ";
	if (hour < 10) cout << "0" << hour << ":";
	else cout << hour << ":";
	if (min < 10) cout << "0" << min;
	else cout << min;
    //最开始没注意到hour也会有前面补0的情况，只对min做了判断
    //这种用%02d输出最方便
}
```

### B1024 科学计数法

![image-20230105144403214](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230105_1672901043.png)

```C++
#include <bits/stdc++.h>

using namespace std;

///
/// \param c 重复输出的字符
/// \param n 字符输出的字数
/// \return std::cout
ostream &printchar(char c, int n) {
	for (int i = 0; i < n; ++i)
		cout << c;
	return std::cout;
}

int main() {
	string num;
	cin >> num;
	if (num[0] == '-') cout << '-';
	stringstream ss;
	ss.str(num.substr(1));
	string zheng, xiao, zhi;
	getline(ss, zheng, '.');
	getline(ss, xiao, 'E');
	getline(ss, zhi);
	bool zhiplus;
	if (zhi[0] == '+') zhiplus = true;
	else zhiplus = false;
	int zhinum = stoi(zhi.substr(1));
	if (!zhiplus) {
		cout << "0.";
		printchar('0', zhinum - 1);
		cout << zheng << xiao;
	} else {//指数为正有两种情况，移动小数点和末尾补0
		cout << zheng;
		if (zhinum >= xiao.size()) {
			cout << xiao;
			printchar('0', zhinum - xiao.size());
		} else {
			xiao.insert(zhinum, 1, '.');
			cout << xiao;
		}
	}
}
```

### B1048 数字加密

![image-20230105181950310](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230105_1672913990.png)

这题说的不是很清楚，两个数字位数不同时应该补0而不是把剩下的几位直接插入结果

见书上答案：

```c++
#include <cstdio>
#include <cstring>
const int maxn = 110;
void reverse(char *str){
    int len = strlen(str);
    char temp;
    for(int i = 0; i < len / 2; i++){
        temp = str[i];
        str[i] = str[len-1-i];
        str[len-1-i] = temp;
    }
}
int main(){
    char a[maxn]={'0'}, b[maxn]={'0'},ans[maxn]={'0'};
    scanf("%s %s",a,b);
    //反转
    reverse(a);
    reverse(b);
    //操作
    int lenA = strlen(a), lenB = strlen(b);
    int len = lenA > lenB ? lenA : lenB;
    for(int i = 0; i < len; i++){
        int numA = i < lenA ? a[i] - '0': 0;//
        int numB = i < lenB ? b[i] - '0': 0;
        if(i % 2 == 0){//奇数位
            int temp = (numB + numA) % 13;
            if(temp == 10) ans[i] = 'J';
            else if(temp == 11) ans[i] = 'Q';
            else if(temp == 12) ans[i] = 'K';
            else ans[i] = temp + '0';
        } else {
            int temp = numB - numA;
            if(temp < 0) temp += 10;
            ans[i] = temp + '0';
        }
    }
    reverse(ans);
    puts(ans);
    return 0;
}
```

### A1001 A+B Format

![image-20230107162636394](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230107_1673079996.png)

```C++
//数字转换格式输出
	double n = 1234567.89;
    std::cout.imbue(std::locale("de_DE"));
    std::cout << "Direct conversion to string:\n"
              << std::to_string(n) << '\n'
              << "Output using a german locale:\n"
              << std::fixed << n << '\n'
              << "Output using an american locale:\n";
    // use the facet directly
    std::cout.imbue(std::locale("en_US.UTF-8"));
    auto& f = std::use_facet<std::num_put<char>>(std::cout.getloc());
    f.put(std::ostreambuf_iterator<char>(std::cout), std::cout, ' ', n);
//刚开始这段代码无法运行
sudo dpkg-reconfigure locales 
sudo apt-get install language-pack-en-base  
//Linux上运行这两个命令之后可以运行 应该是环境问题
```

```C++
#include <bits/stdc++.h>
#include <locale>

using namespace std;

int main() {
	long a, b;
	cin >> a >> b;
	
	std::cout.imbue(std::locale("en_US.UTF-8"));
	auto &f = std::use_facet<std::num_put<char>>(std::cout.getloc());
	f.put(std::ostreambuf_iterator<char>(std::cout), std::cout, ' ', a + b);
	std::cout << '\n';
}
```

我使用的是C++的locale库对数字输出格式进行转换，没有用传统的方法处理字符串

但是只在Linux可以实现，Windows系统还是不能运行

仍然报错![image-20230107180458912](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230107_1673085899.png)

### A1005 Spell It Right

![image-20230107182233096](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230107_1673086953.png)

```c++
#include <bits/stdc++.h>

using namespace std;

template<typename T>
/// 输出顺序容器每个元素的值 结尾没有空格的版本
/// \tparam T 容器元素类型
/// \param container 容器名
void print(const T& container)
{
	for (auto it = begin(container); it != end(container); ++it)
	{
		if (it + 1 == end(container))
			cout << *it << endl;
		else cout << *it << " ";
	}
}

map<char, string> m{{ '0', "zero" },
					{ '1', "one" },
					{ '2', "two" },
					{ '3', "three" },
					{ '4', "four" },
					{ '5', "five" },
					{ '6', "six" },
					{ '7', "seven" },
					{ '8', "eight" },
					{ '9', "nine" }};

/// 十进制数字转任意进制字符串
/// \param n 要转换的数字
/// \param base 目标数字进制
/// \return 目标数字的字符串
string itos(int n, int base)
{
	string ans;
	do
	{
		int t = n % base;
		if (t >= 0 && t <= 9) ans += (t + '0');
		else ans += (t - 10 + 'a');
		n /= base;
	} while (n != 0);
	reverse(ans.begin(), ans.end());
	return ans;
}

/*
单位数字char转int最方便的方法
char a = '0';
int ia = a - '0';
check here if ia is bounded by 0 and 9
*/
int main()
{
	string s;
	cin >> s;
	int sum = 0;
	for (auto x : s)
		sum += (x - '0');

	string r = itos(sum, 10);
	for (auto it = r.begin(); it != r.end(); ++it)
		if (it + 1 == r.end())
			cout << m[*it] << endl;
		else cout << m[*it] << " ";

}

```

---

注：Linux终端复制粘贴时要加shift

终端复制：**ctrl+shift+c**或ctrl+insert

终端粘贴：**ctrl+shift+v**或shift+insert

---

### A1035 Password

![image-20230108003249942](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230108_1673109170.png)

![image-20230108003307043](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230108_1673109187.png)

```c++
#include <iostream>
#include <iterator>
#include <locale>
#include <map>
#include <string>
#include <vector>
using namespace std;
map<char, char> m{{'1', '@'}, {'0', '%'}, {'l', 'L'}, {'O', 'o'}}; // 用于替换的字符映射
int main()
{
    int n, count = 0;
    cin >> n;
    vector<pair<string, string>> v, v1;
    for (int i = 0; i < n; i++)
    {
        string s1, s2;
        cin >> s1 >> s2;
        v.push_back({s1, s2});
    }
    v1 = v;           // v1保存原字符串
    for (auto &p : v) // v的每一项
    {
        bool flag = false;
        for (auto &c : p.second) // 密码的每一位
        {

            if (m.find(c) != m.end())
            {
                c = m[c];
                flag = true;
            }
        }
        if (flag)
            count++;
    }
    if (count == 0)
    {
        if (n == 1)
            cout << "There is 1 account and no account is modified";
        else
            cout << "There are " << n << " accounts and no account is modified";
    }
    else
    {
        cout << count << endl;
        for (int i = 0; i < n; i++)
        {
            if (v[i].second != v1[i].second)
                cout << v1[i].first << " " << v[i].second << endl;
        }
    }
}
```

### A1077 Kuchiguse

![image-20230108161334002](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230108_1673165614.png)

![image-20230108161350219](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230108_1673165630.png)

```
//cin之后使用getline的坑
//getline之前可能会有使用cin造成的换行符留在缓冲区，而getline遇到换行符又会停止读取
//因此getline会读到换行符之前的空字符串
```

```c++
#include <bits/stdc++.h>
using namespace std;
int main()
{
    // 寻找最长公共后缀
    int N;
    cin >> N;
    cin.get();
    vector<string> v;
    for (int i = 0; i < N; i++)
    {
        string s;
        getline(cin, s);
        reverse(s.begin(), s.end());
        v.push_back(s);
    }
    int index = 0;
    bool flag = true;
    while (flag)
    {
        auto c = v[0][index];
        for (int i = 1; i < v.size(); i++)
        {
            if (c != v[i][index])
            {
                flag = false;
                break;
            }
        }
        if (flag)
        {
            index++;
        }
    }
    if (index == 0)
    {
        cout << "nai" << endl;
    }
    else
    {
        auto result = v[0].substr(0, index);
        reverse(result.begin(), result.end());
        cout << result << endl;
    }
    return 0;
}
```

# 第四章 算法初步

## 4.1 排序

只有vector、deque、string允许sort

### 复习：冒泡排序

```c++
#include <algorithm>
#include <iostream>

using namespace std;
template <typename T>
// 打印范围内所有值，末尾没有多余空格
void print(const T& container)
{
    for (auto it = begin(container); it != end(container); ++it) {
        if (it + 1 == end(container))
            cout << *it << endl;
        else
            cout << *it << " ";
    }
}
int main()
{
    int arr[] = { 3, 4, 1, 5, 2 };
    // 冒泡排序，每一趟将当前范围最大的数移到序列末尾
    for (int i = 0; i < 5; i++) {
        for (int j = 0; j < 5 - i - 1; j++) {
            if (arr[j] > arr[j + 1]) {
                swap(arr[j], arr[j + 1]);
            }
        }
    }
    //第一趟3 1 4 2 5
    //第二趟1 3 2 4 5
    //第三趟1 2 3 4 5
    print(arr);// 1 2 3 4 5
}
```

### 复习：简单选择排序

```c++
// 选择排序，复杂度为O(n^2)
for (int i = 0; i < 5; i++) {
    swap(arr[i], *min_element(arr + i, end(arr)));
    //min_element()复杂度为O(n)
}
//当然也可以用循环找到后面范围中最小的数
```

### 复习：直接插入排序

```c++
int arr[] = { 3, 4, 1, 5, 2 };
// 插入排序，复杂度为O(n^2)
// 第一个元素认为属于有序序列，从第二个元素开始倒序判断，依次插入到有序序列中
for (int i = 1; i < 5; i++) {
    for (int j = i; j > 0 && arr[j] < arr[j - 1]; j--) {
    	swap(arr[j], arr[j - 1]);
    }
}
//第一趟：1 3 4 5 2 
//第二趟：1 2 3 4 5
```

### A1025 PAT Ranking

![image-20230126142646349](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230126_1674714406.png)

![image-20230126142700800](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/01/upgit_20230126_1674714421.png)

```C++
#include <algorithm>
#include <iostream>
#include <vector>
using namespace std;

class Student {
public:
    Student(const string& no, int score)
        : no(no)
        , score(score)
    {
    }
    Student() = default;

    string no;
    int score;
    int local_rank;
    int final_rank;
    int location;
};

bool cmp(const Student& a, const Student& b)
{
    if (a.score != b.score)
        return a.score > b.score;
    else
        return a.no < b.no;
}

int main()
{
    int times;
    cin >> times;
    vector<Student> local_students, final_students;
    for (int i = 1; i <= times; i++) {
        local_students.clear();
        int n;
        cin >> n;
        for (int i = 0; i < n; i++) {
            string no;
            int score;
            cin >> no >> score;
            local_students.push_back({ no, score });
        }
        // set local_rank
        for (auto& x : local_students)
            x.location = i;
        // sort by score
        sort(local_students.begin(), local_students.end(), cmp);
        // set local_rank
        local_students[0].local_rank = 1;
        for (int i = 1; i < local_students.size(); i++) {
            if (local_students[i].score == local_students[i - 1].score)
                local_students[i].local_rank = local_students[i - 1].local_rank;
            else
                local_students[i].local_rank = i + 1;
        }
        move(local_students.begin(), local_students.end(), back_inserter(final_students));
    }
    // sort all students by score
    sort(final_students.begin(), final_students.end(), cmp);
    // set final_rank
    final_students[0].final_rank = 1;
    for (int i = 1; i < final_students.size(); i++) {
        if (final_students[i].score == final_students[i - 1].score)
            final_students[i].final_rank = final_students[i - 1].final_rank;
        else
            final_students[i].final_rank = i + 1;
    }
    cout << final_students.size() << endl;
    for (auto x : final_students)
        cout << x.no << " " << x.final_rank << " " << x.location << " " << x.local_rank << endl;
}
```

### B1015 德才论

![image-20230201162543194](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230201_1675239976.png)

![image-20230201162629753](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230201_1675239989.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>

using namespace std;

class Student
{
public:
	string no;
	int de, cai;
	int total;
	
	Student(string n, int d, int c) : no(std::move(n)), de(d), cai(c)
	{
		total = de + cai;
	}
};

int L, H;//L是最低录取分数线，H是优先录取分数线

//才德全尽
bool is_perfect(const Student& s)
{
	if (s.de >= H && s.cai >= H)
		return true;
	else return false;
}

//德胜才
bool is_virtue(const Student& s)
{
	if (s.cai < H && s.de >= H)
		return true;
	else return false;
}

//才德兼亡但尚有德胜才
bool is_both(const Student& s)
{
	if (s.cai < H && s.de < H && s.de >= s.cai)
		return true;
	else return false;
}

//不被录取
bool not_enough(const Student& s)
{
	if (s.cai >= L && s.de >= L)
		return false;
	else return true;
}

//最普通的第四类
bool is_type_4(const Student& s)
{
	if (!is_perfect(s) && !is_virtue(s) && !is_both(s) && !not_enough(s))
		return true;
	else return false;
}

//先按总分从高到低排序，总分相同比德分从高到低，德分相同准考证号升序
bool cmp(const Student& s1, const Student& s2)
{
	if (s1.total != s2.total)
		return s1.total > s2.total;
	else
	{
		if (s1.de != s2.de)
			return s1.de > s2.de;
		else return s1.no < s2.no;
	}
}

int main()
{
	int N;//N是考生总数
	vector<Student> s;
	cin >> N >> L >> H;
	string no;
	int de, cai;
	for (int i = 0; i < N; ++i)
	{
		cin >> no >> de >> cai;
		s.emplace_back(no, de, cai);
	}
	auto it = remove_if(s.begin(), s.end(), not_enough);
	s.erase(it, s.end());
	cout << s.size() << endl;
	vector<Student> s1, s2, s3, s4;
	copy_if(s.begin(), s.end(), back_inserter(s1), is_perfect);
	copy_if(s.begin(), s.end(), back_inserter(s2), is_virtue);
	copy_if(s.begin(), s.end(), back_inserter(s3), is_both);
	copy_if(s.begin(), s.end(), back_inserter(s4), is_type_4);
	sort(s1.begin(), s1.end(), cmp);
	sort(s2.begin(), s2.end(), cmp);
	sort(s3.begin(), s3.end(), cmp);
	sort(s4.begin(), s4.end(), cmp);
	for (auto& x: s1)
	{
		cout << x.no << " " << x.de << " " << x.cai << endl;
	}
	for (auto& x: s2)
	{
		cout << x.no << " " << x.de << " " << x.cai << endl;
	}
	for (auto& x: s3)
	{
		cout << x.no << " " << x.de << " " << x.cai << endl;
	}
	for (auto& x: s4)
	{
		cout << x.no << " " << x.de << " " << x.cai << endl;
	}
}

```

感觉写的有点繁琐但还算清晰

### A1012 **The Best Rank**——map自定义排序先复制到vector再

![image-20230201191710262](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230201_1675250230.png)

![image-20230201191722459](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230201_1675250242.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <cmath>

#include <map>

using namespace std;

struct stu
{
	string no;
	vector<pair<int, int>> info;//first代表科目分数，second代表该科目的排名
	//info应有4个元素
	
	stu() = default;
	
	stu(string n, int c, int m, int e) : no(std::move(n))
	{
		info.emplace_back(c, 0);
		info.emplace_back(m, 0);
		info.emplace_back(e, 0);
		info.emplace_back(round((c + m + e) / 3.0), 0);
	}
};

vector arr = { 'A', 'C', 'M', 'E' };

bool cmp_rank(pair<char, int> a, pair<char, int> b)
{
	if (a.second != b.second)
		return a.second < b.second;
	else
	{
		auto ia = find(arr.begin(), arr.end(), a.first);
		auto ib = find(arr.begin(), arr.end(), b.first);
		/*if (distance(ia, ib) < 0) return b < a;
		else return b >= a;*/
		return ia < ib;
	}
}

void get_first_rank(stu s)
{
	map<char, int> m;
	m.insert({ 'C', s.info[0].second });
	m.insert({ 'M', s.info[1].second });
	m.insert({ 'E', s.info[2].second });
	m.insert({ 'A', s.info[3].second });
	vector<pair<char, int>> v(m.begin(), m.end());
	sort(v.begin(), v.end(), cmp_rank);
	cout << v[0].second << " " << v[0].first << endl;
}

bool cmpC(stu a, stu b)
{
	return a.info[0].first > b.info[0].first;
}

bool cmpM(stu a, stu b)
{
	return a.info[1].first > b.info[1].first;
}

bool cmpE(stu a, stu b)
{
	return a.info[2].first > b.info[2].first;
}

bool cmpA(stu a, stu b)
{
	return a.info[3].first > b.info[3].first;
}

int main()
{
	int numOfStudents, numOfQueries;
	cin >> numOfStudents >> numOfQueries;
	vector<stu> v(numOfStudents);
	for (int i = 0; i < numOfStudents; i++)
	{
		string s;
		int a, b, c;
		cin >> s >> a >> b >> c;
		v[i] = stu(s, a, b, c);
	}
	//按C排序，给出排名
	sort(v.begin(), v.end(), cmpC);
	v[0].info[0].second = 1;
	for (int i = 1; i < numOfStudents; i++)
	{
		if (v[i].info[0].first == v[i - 1].info[0].first)
			v[i].info[0].second = v[i - 1].info[0].second;
		else v[i].info[0].second = i + 1;
	}
	//按M排序，给出排名
	sort(v.begin(), v.end(), cmpM);
	v[0].info[1].second = 1;
	for (int i = 1; i < numOfStudents; i++)
	{
		if (v[i].info[1].first == v[i - 1].info[1].first)
			v[i].info[1].second = v[i - 1].info[1].second;
		else v[i].info[1].second = i + 1;
	}
	//按E排序，给出排名
	sort(v.begin(), v.end(), cmpE);
	v[0].info[2].second = 1;
	for (int i = 1; i < numOfStudents; i++)
	{
		if (v[i].info[2].first == v[i - 1].info[2].first)
			v[i].info[2].second = v[i - 1].info[2].second;
		else v[i].info[2].second = i + 1;
	}
	//按A排序，给出排名
	sort(v.begin(), v.end(), cmpA);
	v[0].info[3].second = 1;
	for (int i = 1; i < numOfStudents; i++)
	{
		if (v[i].info[3].first == v[i - 1].info[3].first)
			v[i].info[3].second = v[i - 1].info[3].second;
		else v[i].info[3].second = i + 1;
	}
	for (int i = 0; i < numOfQueries; i++)
	{
		string q;
		cin >> q;
		auto it = find_if(v.begin(), v.end(), [=](const stu& s)
		{
			if (s.no == q) return true;
			else return false;
		});
		if (it != v.end())
			get_first_rank(*it);
		else cout << "N/A" << endl;
	}
	
}

```

### A1028 List Sorting

![image-20230203181820766](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230203_1675419500.png)

![image-20230203181833142](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230203_1675419513.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <cmath>
#include <map>

using namespace std;

struct Student {
	string id;
	string name;
	int grade;
};

//mode只能为1,2,3
int mode;

bool cmp(Student a, Student b) {
	if (mode == 1) { return a.id < b.id; }
	if (mode == 2) {
		if (a.name != b.name) { return a.name < b.name; }
		else return a.id < b.id;
	}
	if (mode == 3) {
		if (a.grade != b.grade) { return a.grade < b.grade; }
		else return a.id < b.id;
	}
	return false;
}

int main() {
	int N, C;
	cin >> N >> C;
	mode = C;
	vector<Student> v;
	for (int i = 0; i < N; i++) {
		string id, name;
		int grade;
		cin >> id >> name >> grade;
		v.push_back({ id, name, grade });
	}
	sort(v.begin(), v.end(), cmp);
	for (const auto& x: v) {
		cout << x.id << " " << x.name << " " << x.grade << endl;
	}
}


```

### A1055 The World's Richest

![image-20230203190910570](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230203_1675422550.png)

![image-20230203190925643](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230203_1675422565.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <cmath>
#include <map>

using namespace std;

struct billion {
	int age;
	string name;
	int wealth;
};

bool cmp(const billion& a, const billion& b) {
	if (a.wealth != b.wealth)
		return a.wealth > b.wealth;
	else if (a.age != b.age)
		return a.age < b.age;
	else return a.name < b.name;
}

int main() {
	int pnum, qnum;
	cin >> pnum >> qnum;
	vector<billion> v;
	for (int i = 0; i < pnum; i++) {
		string n;
		int a, w;
		cin >> n >> a >> w;
		v.push_back({ a, n, w });
	}
	sort(v.begin(), v.end(), cmp);
	for (int i = 1; i <= qnum; i++) {
		int maxnum, low, high;
		cin >> maxnum >> low >> high;
		printf("Case #%d:\n", i);
		vector<billion> ans;
		copy_if(v.begin(), v.end(), back_inserter(ans), [=](const billion& b)
		{
			if (b.age >= low && b.age <= high) return true;
			return false;
		});
		if (ans.empty()) cout << "None" << endl;
		else {
			for (int j = 0; j < min(maxnum, (int)ans.size()); j++)
				cout << ans[j].name << " " << ans[j].age << " " << ans[j].wealth << endl;
		}
	}
	
}


```

这样写两个测试用例报超时，题目说M≤100，因此结果ans数组中不应该有超过一百个元素

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
#include <cmath>
#include <map>

using namespace std;

struct billion {
	int age;
	string name;
	int wealth;
};

bool cmp(const billion& a, const billion& b) {
	if (a.wealth != b.wealth)
		return a.wealth > b.wealth;
	else if (a.age != b.age)
		return a.age < b.age;
	else return a.name < b.name;
}

int main() {
	int pnum, qnum;
	cin >> pnum >> qnum;
	vector<billion> v;
	for (int i = 0; i < pnum; i++) {
		string n;
		int a, w;
		cin >> n >> a >> w;
		v.push_back({ a, n, w });
	}
	sort(v.begin(), v.end(), cmp);
	for (int i = 1; i <= qnum; i++) {
		int maxnum, low, high;
		cin >> maxnum >> low >> high;
		printf("Case #%d:\n", i);
		vector<billion> ans;
		int times = 0;
		for (const auto& x: v) {
			if (times <= 100) {
				if (x.age >= low && x.age <= high) {
					ans.push_back(x);
					times++;
				}
				else continue;
			}
			else break;
		}
		if (ans.empty()) cout << "None" << endl;
		else {
			for (int j = 0; j < min(maxnum, (int)ans.size()); j++)
				cout << ans[j].name << " " << ans[j].age << " " << ans[j].wealth << endl;
		}
	}
	
}


```

这样写还是有一个用例超时了，可以参考答案

### A1016 Phone Bills——目前最难

![image-20230204182656936](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230204_1675506417.png)

![image-20230204182708906](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230204_1675506429.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>


using namespace std;
struct Record {
	string name;
	int month, day, hour, min;
	string state;
};

int price[] = { 10, 10, 10, 10, 10, 10, 20, 20, 20, 15, 15, 15, 15, 15, 15, 15, 20, 30, 20, 15, 15, 10, 10, 10 };

bool cmp(Record& a, Record& b) {
	if (a.name != b.name) {
		return a.name < b.name;
	}
	else {
		if (a.month != b.month) {
			return a.month < b.month;
		}
		else {
			if (a.day != b.day) {
				return a.day < b.day;
			}
			else {
				if (a.hour != b.hour) {
					return a.hour < b.hour;
				}
				else {
					if (a.min != b.min) {
						return a.min < b.min;
					}
				}
			}
		}
	}
}

pair<int, double> result(Record r1, const Record& r2) {
	int min = 0;
	double p = 0;
	while (r1.day < r2.day || r1.hour < r2.hour || r1.min < r2.min) {
		min++;
		r1.min++;
		p += price[r1.hour];
		if (r1.min == 60) {
			r1.min = 0;
			r1.hour = r1.hour + 1;
		}
		if (r1.hour == 24) {
			r1.hour = 0;
			r1.day++;
		}
	}
	return make_pair(min, p / 100);
}

int main() {
	for (int & i : price) {
		cin >> i;
	}
	vector<Record> v;
	string n, s;
	int m, d, h, min;
	int num;
	cin >> num;
	for (int i = 0; i < num; i++) {
		cin >> n;
		scanf("%d:%d:%d:%d", &m, &d, &h, &min);
		cin >> s;
		v.push_back({ n, m, d, h, min, s });
	}
	sort(v.begin(), v.end(), cmp);
	int on = 0, off, next;
	//每次处理同一个名字的所有记录
	while (on < v.size()) {
		int print = 0;
		next = on;
		while (next < v.size() && v[on].name == v[next].name) {
			if (print == 0 && v[next].state == "on-line")
				print = 1;
			else if (print == 1 && v[next].state == "off-line")
				print = 2;
			next++;
		}
		if (print < 2) {
			on = next;
			continue;
		}
		double sum = 0;
		printf("%s %02d\n", v[on].name.c_str(), v[on].month);
		while (on < next) {
			while ((on < next - 1) && !((v[on].state == "on-line") && (v[on + 1].state == "off-line"))) {
				on++;
			}
			off = on + 1;
			if (off == next) {
				on = next;
				break;
			}
			printf("%02d:%02d:%02d ", v[on].day, v[on].hour, v[on].min);
			printf("%02d:%02d:%02d ", v[off].day, v[off].hour, v[off].min);
			auto r = result(v[on], v[off]);
			int time = r.first;
			double money = r.second;
			sum += money;
			printf("%0d $%.2f\n", time, money);
			on = off + 1;
		}
		printf("Total amount: $%.2f\n", sum);
	}
	
}


```

这个题涉及判断有点复杂，网站上通过率也很低，要捋清楚机器扫描记录的判断逻辑，用了on、off、next三个下标定位需要输出的电话记录

### 1083 List Grades

![image-20230212211339346](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230212_1676207619.png)

![image-20230212211354848](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230212_1676207635.png)

```c++
#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>

using namespace std;
struct grade {
	string name;
	string no;
	int score;
};

bool cmp(grade a, grade b)
{
	return a.score>b.score;
}

int main()
{
	int n;
	cin >> n;
	vector<grade> grades;
	for (int i = 0; i<n; i++) {
		grade grade;
		cin >> grade.name >> grade.no >> grade.score;
		grades.push_back(grade);
	}
	int low, high;
	cin >> low >> high;
	sort(grades.begin(), grades.end(), cmp);
	auto in = [low, high](grade g) { return g.score>=low && g.score<=high; };
	auto sum = count_if(grades.begin(), grades.end(), in);
	if (sum) {
		for (auto x : grades) {
			if (in(x)) {
				cout << x.name << " " << x.no << endl;
			}
		}
	}
	else cout << "NONE" << endl;
}


```

## 4.2 散列

### A1084 Broken Keyboard

![image-20230213001209687](https://raw.githubusercontent.com/fantasssy/learning-notes/main/2023/02/upgit_20230213_1676218329.png)

```c++
#include <iostream>
#include <vector>
#include <algorithm>
#include <cctype>
#include <set>

using namespace std;
void stringUpper(string& s)
{
	for (auto& c : s) {
		c = toupper(c);
	}
}
int main()
{
	string s1, s2;
	bool check[128] = { false };
	cin >> s1 >> s2;
	stringUpper(s1);
	stringUpper(s2);//我直接把字符串变大写再判断，因为不区分大小写
	for (char c : s1) {
		auto it = find(s2.begin(), s2.end(), c);
		if (it==s2.end()) {
			if (!check[c]) {
				cout << c;
				check[c] = true;
			}
		}
	}

}


```

